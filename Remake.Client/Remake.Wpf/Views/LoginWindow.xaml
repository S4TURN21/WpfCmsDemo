<Window x:Class="Remake.Wpf.Views.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Remake.Wpf.Views"
        xmlns:viewmodels="clr-namespace:Remake.Wpf.ViewModels"
        mc:Ignorable="d"
        Title="Авторизация"
        Width="300"
        SizeToContent="Height"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanMinimize"
        FontSize="14"
        FontFamily="Inter"
        d:DataContext="{d:DesignInstance Type={x:Type viewmodels:LoginViewModel}}">
    <StackPanel Margin="21,42">
        <StackPanel Margin="0,0,0,28">
            <Image Source="/Resources/favicon2-64.png"
                   Grid.Column="0"
                   Width="50"
                   Height="50"
                   Margin="0,0,7,0"
                   VerticalAlignment="Center" />
            <TextBlock Text="Добро пожаловать"
                       TextAlignment="Center"
                       FontSize="24.5"
                       FontWeight="Medium"
                       Foreground="#212121" />
        </StackPanel>

        <!--<Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition />
            </Grid.ColumnDefinitions>
        </Grid>-->
        <Border Background="#b3ffe7e6"
                CornerRadius="6"
                Padding="10.5, 10.5"
                Margin="0,0,0,14">
            <Border.Style>
                <Style TargetType="{x:Type Border}">
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Errors}"
                                     Value="{x:Null}">
                            <Setter Property="Visibility"
                                    Value="Collapsed" />
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
            <TextBlock Text="{Binding Errors}"
                       Foreground="#ff5757"
                       Margin="7,0,0,0"
                       TextWrapping="Wrap">

            </TextBlock>
        </Border>

        <TextBlock Text="Логин"
                   FontWeight="Medium"
                   Foreground="#212121"
                   Margin="0,0,0,7" />
        <TextBox Text="{Binding Email}"
                 Margin="0,0,0,14"
                 Style="{StaticResource Prime.InputText}" />

        <TextBlock Text="Пароль"
                   FontWeight="Medium"
                   Foreground="#212121"
                   Margin="0,0,0,7" />

        <PasswordBox x:Name="pbPassword"
                     PasswordChar="•"
                     PasswordChanged="pbPassword_PasswordChanged"
                     Margin="0,0,0,14"
                     Style="{StaticResource Prime.InputPassword}" />

        <!--<TextBox Text="{Binding Password}"
                 Margin="0,0,0,14"
                 Style="{StaticResource Prime.TextBox}" />-->

        <CheckBox Content="Запомнить меня"
                  Margin="0,0,0,42"
                  Style="{StaticResource Prime.CheckBox}" />
        
        <Button Command="{Binding LoginCommand}"
                Style="{StaticResource Prime.Button}">
            <StackPanel Orientation="Horizontal">
                <TextBlock Text="&#xe926;"
                           FontFamily="PrimeIcons"
                           FontWeight="Normal"
                           Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibility}}"
                           d:Visibility="Collapsed"
                           Margin="0,0,7,0"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Center"
                           RenderTransformOrigin="0.5,0.5">
                    <TextBlock.RenderTransform>
                        <RotateTransform x:Name="MyAnimatedTransform"
                                         Angle="0" />
                    </TextBlock.RenderTransform>
                    <TextBlock.Triggers>
                        <EventTrigger RoutedEvent="Loaded">
                            <BeginStoryboard>
                                <Storyboard RepeatBehavior="Forever">
                                    <DoubleAnimation Storyboard.TargetName="MyAnimatedTransform"
                                                     Storyboard.TargetProperty="(RotateTransform.Angle)"
                                                     From="0"
                                                     To="360"
                                                     Duration="0:0:1" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </TextBlock.Triggers>
                </TextBlock>
                <TextBlock Text="Войти" />
            </StackPanel>
        </Button>
    </StackPanel>
</Window>
